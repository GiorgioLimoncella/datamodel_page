<html>
<head>
  <title>Data models</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>
A ConcePTION script is composed of multiple steps. In each step, one or more datasets are required as input and one or more new datasets are produced as output. 
This page described the data models of such datasets. Datasets are divided into three groups: 

<a name="export_list"></a> Datasets to be exported
<br>

<ul>
<li>count codes for all concept sets: 
<ul>  
  <li><a href="#t1_1">D4_<I>CONCEPTSET</i>code_counts<i>YEAR</i>.csv</a></li>
  <li><a href="#tc1_1">QC_code_counts_in_CDMinstance<I>CONCEPTSETYEAR</i>.csv</a></li>
  <li><a href="#tc1_3">QC_code_counts_in_study_population<i>OUTCOMES_TYPE_year</i>.csv</a></li>
</ul> 
<li>flowchart: <a href="#t1_2">FlowChart.csv</a></li>
<li>study population: D4_study_population (not shared)</li>
<li>descriptive of the population
<ul>
    <li><a href="#t1_4">D4_descriptive_dataset_age_<I>OBJECTIVE</I>.csv</a></li>
    <li><a href="#t1_5">D4_descriptive_dataset_ageband_<I>OBJECTIVE</I>.csv</a></li>
    <li><a href="#t1_6">D4_descriptive_dataset_covariate.csv</a></li>
    <li><a href="#tc1_d1">D4_descriptive_dataset_entry_year_<I>OBJECTIVE</I>.csv</a></li>
    <li><a href="#tc1_d2">D4_descriptive_dataset_risk_factors.csv</a></li>
</ul>
<li>detailed comparison between some algorithms for outcomes: <a href="#t1_7">D4_algorithm_comparison_<i>OUTCOME</i>.csv</a></li>
<li>comparison among all meanings and concept sets of all outcomes: <a href="#t1_8">D3_beyond_HOSP_PC_components_<i>OUTCOME</i>.csv</a></li>
<li>person time and occurrence of outcomes: <ul> 
         <li><a href="#t1_9">D4_persontime_ALL_OUTCOMES_year.csv</a></li> 
<li><a href="#">D4_persontime_ALL_OUTCOMES_month.csv</a></li></ul>
<li><a href="#tc1_2">QC_all_components_<i>OUTCOMES</i>.csv</a></li>
</ul>

## <a name="main_list"></a> Main datasets
<br>

<ul>
<li><a href="#t2_2">D3_components_<i>OUTCOME</i>.RData</a></li>
<li><a href="#t2_2">D3_events_ALL_OUTCOMES.RData</a></li>
<li><a href="#t2_3">D3_selection_criteria.RData</a></li>
<li><a href="#t2_4">D3_study_population_covariates.RData</a></li>
<li><a href="#t2_5">D4_algorithm_comparison_<i>OUTCOMES</i>_intermediate.RData</a></li>
</ul>

## <a name="functional_list"></a> Functional datasets
<br>


<ul>
<li><a href="#t3_1">D3_events_<i>OUTCOME_TYPE</i>.RData</a></li>
<li><a href="#t3_2">D3_study_population_DP.RData</a></li>
</ul>



<br>
<br>
<br>
<a name="t1_1"></a><hr />
<br>
<br>
<br>

<h2> D4_<i>CONCEPTSET</i>code_counts<i>YEAR</i>.csv </h2>

[Example]()

Unit of observation: each <I>CODVAR</I> for each <I>meaning_of_event</I>

For each <I>CONCEPSET</I>**, for each type (among narrow and possible), for each YEAR in the study period, this table counts the occurrence of each code, stratified per meaning
<table>
<thead>
<tr><th>Variable name </th><th>	Dictionary of variable name</th><th>	Dictionary of variable</th><th>	Description</th><th>	Format</th><th>	Notes</th></tr>
</thead>
<tbody>

<tr><td>codvar</td><td>	</td><td>	</td><td>	All the codes in the concept set</td><td>	string</td><td>	</td></tr>
<tr><td>meaning_of_<I>OBJECT_OF_DATADOMAIN</I></td><td>	<I>OBJECT_OF_DATADOMAIN</I> may be ... </td><td>	whatever is in the meaning_of_events column, if the data domain of the concept set is  Diagnosis, or in meaning_of_ , if the data domain of the concept set is Medicines</td><td> 	Stratification</td><td>	string</td><td>	</td></tr>
<tr><td>count_n</td><td>	</td><td>	</td><td>	Number of occurrences of the combination code/meaning</td><td>	integer</td><td>	</td></tr>


</tbody>
</table>
** <I>CONCEPSETS</I> may be ... <br>
<a href="#export_list"> Back to list </a>

<br>
<br>
<br>
<a name="t1_2"></a> <hr />
<br>
<br>
<br>

 <h2>FlowChart.csv</h2> 


Unit of observation: Exclusion criteria applied

Every row refers to an exclusion criterion
<table>
<thead>
<tr><th>Variable name </th><th>	Dictionary of variable</th><th>	Description</th><th>	Format</th><th>	Notes</th></tr>
</thead>
<tbody>
<tr><td>A_sex_or_birth_date_missing</td><td>	0 = to be included<br>
1= to be excluded</td><td>	Quality check: sex or birth date mssing</td><td>	integer</td><td>	</td></tr>
<tr><td>B_birth_date_absurd</td><td>	0 = to be included<br>
1= to be excluded</td><td>	Quality check: birth date absurd</td><td>	integer</td><td>	</td></tr>
<tr><td>C_not_female</td><td>	0 = to be included <br>
1= to be excluded</td><td>	The person is not female</td><td>	integer</td><td>	</td></tr>
<tr><td>D_not_in_fertile_age_at_study_entry_date</td><td>	0 = to be included<br>
1= to be excluded</td><td>	The female had age less than 12 or higher than 55</td><td>	integer</td><td>	</td></tr>
<tr><td>E_insufficient_run_in</td><td>	0 = to be included<br>
1= to be excluded</td><td>	The female had insufficient look back period (5 years) </td><td>	integer</td><td>	</td></tr>

<tr><td>F_death_before_study_entry</td><td>	0 = to be included<br> 1= to be excluded	</td><td>	The female died before entering the study</td><td>	integer</td><td>	</td></tr>

<tr><td>N</td><td>	</td><td>	Number of people with the corresponding combination of the previous variables</td><td>	integer</td><td>	</td></tr>

</tbody>
</table><br>
<a href="#export_list"> Back to list </a>


<br>
<br>
<br>
<a name="t1_4"></a><hr />
<br>
<br>
<br>


  <h2> D4_descriptive_dataset_age.csv  </h2> 

Descriptive of age at study entry, for all the population
<table>
<thead>
<tr><th>Variable name </th><th>	Dictionary of variable</th><th>	Description</th><th>	Format</th><th>	Notes</th></tr>
</thead>
<tbody>

<tr><td>X1</td><td>	Min:<br> minimum of age distribution<br><br>
1st Qu.:<br> First quartile of age distribution<br><br>
Median: <br>median quartile of age distribution<br><br>
Mean:<br> mean quartile of age distribution<br><br>
3rd Qu.: <br>Third quartile quartile of age distribution<br><br>
Max: <br>maximum of age distribution</td><td>	Statistical value of distribution</td><td>	string</td><td>	</td></tr>
<tr><td>age_at_study_entry</td><td>                	</td><td>	Value of age at study entry</td><td>	numeric</td><td>	</td></tr>


</tbody>
</table><br>
<a href="#export_list"> Back to list </a>


<br>
<br>
<br>
<a name="t1_5"></a><hr />
<br>
<br>
<br>

  <h2> D4_descriptive_dataset_ageband.csv </h2> 

[Example]()

Unit of observation: each age band

Occurrences of agebands at study entry, for all the population
<table>
<thead>
<tr><th>Variable name </th><th>	Dictionary of variable</th><th>	Description</th><th>	Format</th><th>	Notes</th></tr>
</thead>
<tbody>

<tr><td>age_strata_at_study_entry </td><td>               	12-19, 20-29, 30-39, 40-49, 50-55</td><td>	Ageband of age at study entry</td><td>	string</td><td>	</td></tr>
<tr><td>frequency</td><td>	</td><td>	Value of frequency in specific ageband</td><td>	numeric</td><td>	</td></tr>

</tbody>
</table><br>
<a href="#export_list"> Back to list </a>


<br>
<br>
<br>
<a name="t1_6"></a><hr />
<br>
<br>
<br>

 <h2> D4_descriptive_dataset_covariate.csv</h2> 

Occurrences of <I>COVARIATES<I>*** at study entry, in all the population
<table>
<thead>
<tr><th>Variable name </th><th>	Dictionary of variable</th><th>	Description</th><th>	Format</th><th>	Notes</th></tr>
</thead>
<tbody>
<tr><td>all_covariates_non_CONTR</td><td>	First row: those with the variable = 0 ; second row: those with the variable =1</td><td>	This counts all persons who have at least one of the covariates or proxy = 1</td><td>	integer</td><td>	</td></tr>
<tr><td><I>COVARIATE</I>_at_study_entry
</td><td>	First row: those with the variable =0 ; second row: those with the variable =1</td><td>	This counts all persons who have at least a record of a diagnosis of the covariate</td><td>	integer</td><td>	</td></tr>
<tr><td>DP_<I>COVARIATE</I>_at_study_entry</td><td>	First row: those with the variable =0 ; second row: those with the variable =1</td><td>	This counts all persons who have at least 2 records of the drug proxy for the covariate </td><td>	integer</td><td>	All covariate in the list above </td></tr>
<tr><td><I>COVARIATE</I>_either_DX_or_DP</td><td>	First row: those with the variable =0 ; second row: those with the variable =1</td><td>	This counts all persons who have either at least a diagnosis or at least 2 records of the drug proxy for the covariate </td><td>	integer</td><td>	All covariate in the list above</td></tr>

</tbody>
</table>
*** <I>COVARIATE</I> may be ...<br>
<a href="#export_list"> Back to list </a>
</body>
</html>